{"ast":null,"code":"import { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport axios from 'axios';\nimport VueAxios from 'vue-axios';\nimport store from './store';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"bootstrap\";\nimport \"./assets/css/style.css\";\nVue.http.headers.common['X-CSRF-TOKEN'] = document.querySelector('#token').getAttribute('value');\naxios.defaults.withCredentials = true;\naxios.defaults.baseURL = 'http://localhost:8000/api/auth';\nconst token = localStorage.getItem('token');\n\nif (token) {\n  axios.defaults.headers.common['Authorization'] = token;\n}\n\naxios.interceptors.response.use(undefined, function (error) {\n  if (error) {\n    const originalRequest = error.config;\n\n    if (error.response.status === 401 && !originalRequest._retry) {\n      originalRequest._retry = true;\n      store.dispatch('logout');\n      return router.push('/login');\n    } else {\n      store.commit('handle_error', JSON.parse(error.response.data.error));\n    }\n  }\n});\ncreateApp(App).use(router).use.apply(VueAxios, axios).use(store).mount('#app');","map":{"version":3,"sources":["D:/Web/vue/ecommerce_admin_ui/src/main.js"],"names":["createApp","App","router","axios","VueAxios","store","Vue","http","headers","common","document","querySelector","getAttribute","defaults","withCredentials","baseURL","token","localStorage","getItem","interceptors","response","use","undefined","error","originalRequest","config","status","_retry","dispatch","push","commit","JSON","parse","data","apply","mount"],"mappings":"AAAA,SAASA,SAAT,QAA0B,KAA1B;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,OAAO,sCAAP;AACA,OAAO,WAAP;AAIA,OAAO,wBAAP;AAEAC,GAAG,CAACC,IAAJ,CAASC,OAAT,CAAiBC,MAAjB,CAAwB,cAAxB,IAA0CC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,EAAiCC,YAAjC,CAA8C,OAA9C,CAA1C;AAEAT,KAAK,CAACU,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AACAX,KAAK,CAACU,QAAN,CAAeE,OAAf,GAAyB,gCAAzB;AACA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AACA,IAAIF,KAAJ,EAAW;AACPb,EAAAA,KAAK,CAACU,QAAN,CAAeL,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDO,KAAjD;AACH;;AAEDb,KAAK,CAACgB,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CAAgCC,SAAhC,EAA2C,UAAUC,KAAV,EAAiB;AACxD,MAAIA,KAAJ,EAAW;AACP,UAAMC,eAAe,GAAGD,KAAK,CAACE,MAA9B;;AACA,QAAIF,KAAK,CAACH,QAAN,CAAeM,MAAf,KAA0B,GAA1B,IAAiC,CAACF,eAAe,CAACG,MAAtD,EAA8D;AAC1DH,MAAAA,eAAe,CAACG,MAAhB,GAAyB,IAAzB;AACAtB,MAAAA,KAAK,CAACuB,QAAN,CAAe,QAAf;AACA,aAAO1B,MAAM,CAAC2B,IAAP,CAAY,QAAZ,CAAP;AACH,KAJD,MAKK;AACDxB,MAAAA,KAAK,CAACyB,MAAN,CAAa,cAAb,EAA6BC,IAAI,CAACC,KAAL,CAAWT,KAAK,CAACH,QAAN,CAAea,IAAf,CAAoBV,KAA/B,CAA7B;AACH;AACJ;AACJ,CAZD;AAeAvB,SAAS,CAACC,GAAD,CAAT,CAAeoB,GAAf,CAAmBnB,MAAnB,EAA2BmB,GAA3B,CAA+Ba,KAA/B,CAAqC9B,QAArC,EAA+CD,KAA/C,EAAsDkB,GAAtD,CAA0DhB,KAA1D,EAAiE8B,KAAjE,CAAuE,MAAvE","sourcesContent":["import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport axios from 'axios'\r\nimport VueAxios from 'vue-axios'\r\nimport store from './store'\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"bootstrap\";\r\n\r\n\r\n\r\nimport \"./assets/css/style.css\";\r\n\r\nVue.http.headers.common['X-CSRF-TOKEN'] = document.querySelector('#token').getAttribute('value');\r\n\r\naxios.defaults.withCredentials = true\r\naxios.defaults.baseURL = 'http://localhost:8000/api/auth'\r\nconst token = localStorage.getItem('token')\r\nif (token) {\r\n    axios.defaults.headers.common['Authorization'] = token\r\n}\r\n\r\naxios.interceptors.response.use(undefined, function (error) {\r\n    if (error) {\r\n        const originalRequest = error.config;\r\n        if (error.response.status === 401 && !originalRequest._retry) {\r\n            originalRequest._retry = true;\r\n            store.dispatch('logout')\r\n            return router.push('/login')\r\n        }\r\n        else {\r\n            store.commit('handle_error', JSON.parse(error.response.data.error));\r\n        }\r\n    }\r\n})\r\n\r\n\r\ncreateApp(App).use(router).use.apply(VueAxios, axios).use(store).mount('#app')\r\n"]},"metadata":{},"sourceType":"module"}